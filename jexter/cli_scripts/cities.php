<?php
$regions = ['Республика Адыгея' => ['Майкоп'],
    'Республика Башкортостан' => ['Уфа', 'Стерлитамак', 'Салават', 'Нефтекамск', 'Октябрьский'],
    'Республика Бурятия' => ['Улан-Удэ'],
    'Республика Дагестан' => ['Махачкала', 'Хасавюрт', 'Дербент', 'Каспийск'],
    'Республика Ингушетия' => ['Назрань'],
    'Кабардино-Балкарская Республика' => ['Нальчик'],
    'Республика Калмыкия' => ['Элиста'],
    'Карачаево-Черкесская Республика' => ['Черкесск'],
    'Республика Карелия' => ['Петрозаводск'],
    'Республика Коми' => ['Сыктывкар'],
    'Республика Крым' => ['Симферополь', 'Керчь', 'Евпатория'],
    'Республика Марий Эл' => ['Йошкар-Ола'],
    'Республика Мордовия' => ['Саранск'],
    'Республика Саха' => [],
    'Республика Северная Осетия' => ['Владикавказ'],
    'Республика Татарстан' => ['Казань', 'Набережные Челны', 'Нижнекамск', 'Альметьевск'],
    'Республика Тыва' => ['Кызыл'],
    'Удмуртская Республика' => ['Ижевск'],
    'Республика Хакасия' => ['Абакан'],
    'Чеченская Республика' => ['Грозный'],
    'Чувашская Республика' => ['Чебоксары', 'Новочебоксарск'],
    'Алтайский край' => ['Барнаул', 'Бийск', 'Рубцовск'],
    'Забайкальский край' => ['Чита'],
    'Камчатский край' => ['Петропавловск-Камчатский'],
    'Краснодарский край' => ['Краснодар', 'Сочи', 'Новороссийск', 'Армавир'],
    'Красноярский край' => ['Красноярск', 'Норильск', 'Ачинск'],
    'Пермский край' => ['Пермь', 'Березники'],
    'Приморский край' => ['Владивосток', 'Уссурийск', 'Находка', 'Артём'],
    'Ставропольский край' => ['Ставрополь', 'Пятигорск', 'Кисловодск', 'Невинномысск', 'Ессентуки'],
    'Хабаровский край' => ['Хабаровск', 'Комсомольск-на-Амуре'],
    'Амурская область' => ['Благовещенск'],
    'Архангельская область' => ['Архангельск', 'Северодвинск'],
    'Астраханская область' => ['Астрахань'],
    'Белгородская область' => ['Белгород', 'Старый Оскол'],
    'Брянская область' => ['Брянск'],
    'Владимирская область' => ['Владимир', 'Ковров', 'Муром'],
    'Волгоградская область' => ['Волгоград', 'Волжский', 'Камышин'],
    'Вологодская область' => ['Череповец', 'Вологда'],
    'Воронежская область' => ['Воронеж'],
    'Ивановская область' => ['Иваново'],
    'Иркутская область' => ['Иркутск', 'Братск', 'Ангарск'],
    'Калининградская область' => ['Калининград'],
    'Калужская область' => ['Калуга', 'Обнинск'],
    'Кемеровская область' => ['Новокузнецк', 'Кемерово', 'Прокопьевск'],
    'Кировская область' => ['Киров'],
    'Костромская область' => ['Кострома'],
    'Курганская область' => ['Курган'],
    'Курская область' => ['Курск'],
    'Ленинградская область' => ['Санкт-Петербург'],
    'Липецкая область' => ['Липецк', 'Елец'],
    'Магаданская область' => ['Магадан'],
    'Московская область' => ['Балашиха', ' Химки', ' Подольск', ' Королёв', ' Люберцы', ' Мытищи', ' Электросталь', ' Коломна', ' Одинцово', ' Красногорск', ' Серпухов', ' Орехово-Зуево', ' Щёлково', ' Домодедово', ' Жуковский', ' Сергиев Посад', ' Пушкино', ' Раменское', ' Ногинск', ' Долгопрудный'],
    'Мурманская область' => ['Мурманск'],
    'Нижегородская область' => ['Нижний Новгород', 'Дзержинск', 'Арзамас'],
    'Новгородская область' => ['Великий Новгород'],
    'Новосибирская область' => ['Новосибирск', 'Бердск'],
    'Омская область' => ['Омск'],
    'Оренбургская область' => ['Оренбург', 'Орск'],
    'Орловская область' => ['Орёл'],
    'Пензенская область' => ['Пенза'],
    'Псковская область' => ['Псков'],
    'Ростовская область' => ['Ростов-на-Дону', 'Таганрог', 'Шахты', 'Новочеркасск', 'Волгодонск', 'Батайск', 'Новошахтинск'],
    'Рязанская область' => ['Рязань'],
    'Самарская область' => ['Самара', 'Тольятти', 'Сызрань', 'Новокуйбышевск'],
    'Саратовская область' => ['Саратов', 'Энгельс', 'Балаково'],
    'Сахалинская область' => ['Южно-Сахалинск'],
    'Свердловская область' => ['Екатеринбург', 'Нижний Тагил', 'Каменск-Уральский', 'Первоуральск'],
    'Смоленская область' => ['Смоленск'],
    'Тамбовская область' => ['Тамбов'],
    'Тверская область' => ['Тверь'],
    'Томская область' => ['Томск', 'Северск'],
    'Тульская область' => ['Тула', 'Новомосковск'],
    'Тюменская область' => ['Тюмень'],
    'Ульяновская область' => ['Ульяновск', 'Димитровград'],
    'Челябинская область' => ['Челябинск', 'Магнитогорск', 'Златоуст', 'Миасс', 'Копейск'],
    'Ярославская область' => ['Ярославль', 'Рыбинск'],
    'Москва' => ['Москва'],
    'Санкт-Петербург' => ['Санкт-Петербург'],
    'Севастополь' => ['Севастополь'],
    'Еврейская автономная область' => [],
    'Ненецкий автономный округ' => [],
    'Ханты-Мансийский автономный округ' => ['Сургут', 'Нижневартовск', 'Нефтеюганск'],
    'Чукотский автономный округ' => [],
    'Ямало-Ненецкий автономный округ' => ['Новый Уренгой', 'Ноябрьск'],

    'Минск' => ['Минск'],
    'Брестская область' => ['Брест', 'Барановичи', 'Пинск'],
    'Витебская область' => ['Витебск', 'Орша', 'Новополоцк', 'Полоцк'],
    'Гомельская область' => ['Гомель', 'Мозырь', 'Жлобин', 'Светлогорск', 'Речица'],
    'Гродненская область' => ['Гродно', 'Лида'],
    'Минская область' => ['Борисов', 'Солигорск', 'Молодечно'],
    'Могилёвская область' => ['Могилёв', 'Бобруйск'],

    'Винницкая область' => ['Бар', 'Бершадь', 'Винница', 'Гайсин', 'Гнивань', 'Жмеринка', 'Ильинцы', 'Казатин',
        'Калиновка', 'Ладыжин', 'Липовец', 'Могилёв-Подольский', 'Немиров', 'Погребище', 'Тульчин', 'Хмельник', 'Шаргород', 'Ямполь'],
    'Волынская область' => [ 'Луцк' ,'Владимир-Волынский' ,'Ковель' ,'Нововолынск' ],
    'Днепропетровская область' => ['Апостолово' ,'Верхнеднепровск' ,'Верховцево' ,'Вольногорск' ,'Днепродзержинск' ,'Днепропетровск' ,'Желтые Воды' ,'Зеленодольск' ,'Кривой Рог' ,'Марганец' ,'Никополь' ,'Новомосковск' ,'Павлоград' ,'Перещепино' ,'Першотравенск' ,'Подгородное' ,'Орджоникидзе' ,'Пятихатки' ,'Синельниково' ,'Терновка'],
    'Донецька область' => ['Донецк' ,'Мариуполь' ,'Макеевка' ,'Горловка' ,'Краматорск' ,'Славянск' ,'Енакиево'],
    'Житомирська область' => ['Житомир' ,'Бердичев' ,'Коростень' ,'Новоград-Волынский' ,'Малин'],
    'Закарпатська область' => [],
    'Запорізька область' => [],
    'Івано-Франківська область' => [],
    'Київська область' => [],
    'Кіровоградська область' => [],
    'Луганська область' => [],
    'Львівська область' => [],
    'Миколаївська область' => [],
    'Одеська область' => [],
    'Полтавська область' => [],
    'Рівненська область' => [],
    'Сумська область' => [],
    'Тернопільська область' => [],
    'Харківська область' => [],
    'Херсонська область' => [],
    'Хмельницька область' => [],
    'Черкаська область' => [],
    'Чернігівська область' => [],
    'Чернівецька область' => [],
    'Київ' => [],
    'Севастополь' => [],
    'Автономна Республіка Крим' => [],

];

//$regions = explode("\n", $regions);
//ksort($regions);
$db->setQuery("TRUNCATE #__mycityselector_city"); // remove regions
$db->execute();
$i = 1;
foreach ($regions as $regionName => $region) {
    if (!empty($region)) {
        foreach ($region as $city) {
            $db->setQuery('SELECT id,country_id FROM #__mycityselector_province WHERE name=' . $db->quote($regionName));
            $regionId = $db->loadRow()[0];
            $country_id = $db->loadRow()[1];
            $name = $db->escape(trim($city));
            out("  {$name}\n", 'light_blue');
            $db->setQuery("INSERT INTO #__mycityselector_city (`country_id`,`province_id`, `name`, `subdomain`, `status`, `ordering`) VALUES ({$country_id},'{$regionId}', '{$name}', '', '1',{$i})");
            $db->execute();
            $i++;
        }
    }
}
out(" Generate slugs\n", 'green');
include dirname(__FILE__) . '/slugCities.php';

